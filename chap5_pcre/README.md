### 正規表現(Regular Expression)のルール

基礎構文

```php
/正規表現/修飾子
```

修飾子は正規表現の動作オプションと考えればよい。

### /XYZ/

- 特定の文字列に部分一致する。
- デフォルトでは大小の文字列を区別する。

### [/XYZ/]

- `[]`:ブラケット
  - いずれかの文字列に一致するかどうかを判定する。

- /^[hige]/
  - いずれかの文字列にマッチしない。
  
### /[0-9]/

- 特定の範囲にマッチする。
- `/[a-z]/`:a~zの小文字にマッチする事が可能。

### /./

- 任意の一文字にマッチする。
- `/a.c/`
  - `abc`,`adc`,`aPc`

### /^/,/&/

- `^`:行頭
  - `/^pla/`
    - plan,placa(plaでマッチする。)
- `$`:行末
  - `/ple$/`
    - apple,pople(pleでマッチする。)

- ※`/^[]/`:ブラケットの中だと否定になる。紛らわしい。


### 文字列の繰り返しパターン

- `X*`:0文字以上のX
  - `/po*l/`:pl,pol,poool,poool
  - この場合は`o`が繰り返しの対象となっている。
- `X+`:1文字以上のX
  - `/po+x/`:pol,poool,poool
  - `pl`にはマッチしない。
- `X?`:0または1文字のX
  - `/po?x/`:pl or polのみ
- `X{n}`:n文字のX
  - `/po{2}l/`:poolのみ。
- `X{n,}`:n文字以上のX
  - `/po{2,}l`:pool,poool
  - plやpolにはマッチしない。
- `X{n,m}`:m~n文字のX
  - `/po{2,3}l/`:pool,poool
  - polやplはマッチしない。
  
 多い！！
 
 ### 特殊の文字セット(修飾子オプション)
 
 - `\t`:タブ文字
 - `\n`:改行
 - `\r`:復帰(キャリッジリターン)
 - `\d`:数値にマッチ
   - `/[0-9]/`と同じ。
 - `\D`:数値以外にマッチ
   - `[^0-9]`と同じ。
 - `\s`:空白文字にマッチ
   - `[` \t\n\f\r`]`と同じ。
 - `\S`:空白以外の文字にマッチ
   - `[^\s]`と同じ
 - `\w`:大文字、小文字のアルファベット、数字、アンダースコアにマッチ
   - `/[a-zA-Z_0-9]/`と同じ
   - 一番よく使うオプション
 - `\W`:文字以外にマッチ
   - `[^\w]`と同じ
 
 PHPでは主にPCRE(Perl-Compatible-Pregular-Exception)関数を使って正規表現を判別する。
 (POSIX正規表現関数もあるがPHP7で廃止予定なので紹介しない。)
 
 ### 修飾子
 
 - `/i`:大文字・小文字の区別を無視
 - `/m`:複数行検索に対応(改行の前後も文字列の末尾/先頭として認識)
 - `/e`:置き換え後の文字列をPHPのコードとして処理
 - `/u`:正規表現のパターンをUTF-8文字列として扱う。